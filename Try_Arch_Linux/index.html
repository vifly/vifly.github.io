<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="我从 Debian 迁移到 Arch Linux 的过程，主要是安利软件"><title>从 Debian 迁移到 Arch Linux</title><link rel=canonical href=https://viflythink.com/Try_Arch_Linux/><link rel=stylesheet href=/scss/style.min.450926226e724574a6b936335ea06111f8aeb253d932c86cb2cc807341cd2889.css><meta property="og:title" content="从 Debian 迁移到 Arch Linux"><meta property="og:description" content="我从 Debian 迁移到 Arch Linux 的过程，主要是安利软件"><meta property="og:url" content="https://viflythink.com/Try_Arch_Linux/"><meta property="og:site_name" content="Vifly 的博客"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="折腾"><meta property="article:tag" content="Linux"><meta property="article:tag" content="软件安利"><meta property="article:published_time" content="2019-11-03T14:34:27+08:00"><meta property="article:modified_time" content="2019-11-03T14:34:27+08:00"><meta property="og:image" content="https://viflythink.com/Try_Arch_Linux/show.jpg"><meta name=twitter:title content="从 Debian 迁移到 Arch Linux"><meta name=twitter:description content="我从 Debian 迁移到 Arch Linux 的过程，主要是安利软件"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://viflythink.com/Try_Arch_Linux/show.jpg"><link rel="shortcut icon" href=img/favicon.png><meta name=google-site-verification content="o-widUnxdyv8T6wPC_NGLfDgKUwgv2-zMnQhKLKul3Y"><meta name=msvalidate.01 content="D8C8D2BAD9DA419D96DA79455FC4DDBC"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu139cde8ab2a45f6f8ca9b1d680d35535_828870_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Vifly 的博客</a></h1><script>fetch("https://api.github.com/gists/7a04e2188185ddb19cbd19d8217b9400").then(e=>{if(e.ok)return e.json();throw new Error("Unable to fetch gist slogans.")}).then(e=>JSON.parse(e.files["slogans.json"].content)).then(e=>e[Math.floor(Math.random()*e.length)].content).then(e=>{document.getElementById("slogan").innerHTML="<h2 id='slogan' class='site-description'>"+e+"</h2>"})</script><h2 id=slogan class=site-description></h2></div></header><ol class=social-menu><li><a href=mailto:viflythink@gmail.com target=_blank title=Email><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg></a></li><li><a href=https://github.com/vifly target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://viflythink.com/atom.xml target=_blank title=RSS><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=https://t.me/viflythink target=_blank title=Telegram><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-telegram" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://twitter.com/viflythink target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/ target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/tags/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg><span>Tags</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><li><a href=/service/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-cloud" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 18a4.6 4.4.0 010-9 5 4.5.0 0111 2h1a3.5 3.5.0 010 7H7"/></svg><span>Service</span></a></li><li><a href=/gpg/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-key" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="8" cy="15" r="4"/><line x1="10.85" y1="12.15" x2="19" y2="4"/><line x1="18" y1="5" x2="20" y2="7"/><line x1="15" y1="8" x2="17" y2="10"/></svg><span>GPG key</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/Try_Arch_Linux/><img src=/Try_Arch_Linux/show_hubfb0eb0e288deb4ca723092859008c14_673819_800x0_resize_q75_box.jpg srcset="/Try_Arch_Linux/show_hubfb0eb0e288deb4ca723092859008c14_673819_800x0_resize_q75_box.jpg 800w, /Try_Arch_Linux/show_hubfb0eb0e288deb4ca723092859008c14_673819_1600x0_resize_q75_box.jpg 1600w" width=800 height=612 loading=lazy alt="Featured image of post 从 Debian 迁移到 Arch Linux"></a></div><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/Try_Arch_Linux/>从 Debian 迁移到 Arch Linux</a></h2><h3 class=article-subtitle>我从 Debian 迁移到 Arch Linux 的过程，主要是安利软件</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2019 年 11 月 03 日</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>12 minute read</time></div></footer></div></header><section class=article-content><p>在用了将近两年的 Debian 后，我打算尝试另一个与 Debian 存在较大差别的发行版，做了一番比较后（<del>并没有</del>）选择了相比 Debian 激进许多（经常需要滚包）的 Arch Linux。其实我在刚开始使用 Debian 时便听说过 Arch Linux 了，这都要归功于活跃的<a class=link href=https://www.archlinuxcn.org/ target=_blank rel=noopener> Arch Linux 中文社区</a>，里面的人整天忙着安利 Arch Linux（<del>传教</del>），而且，<a class=link href=https://wiki.archlinux.org/index.php/Main_page_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29 target=_blank rel=noopener> Arch Linux 的 Wiki </a>也是非常优秀的文档，我在 Debian 上遇到问题时也会参考 Arch Linux 的 Wiki，久而久之，便产生了尝试 Arch Linux 的想法，此外，对于现在的我而言，<a class=link href=https://wiki.archlinux.org/index.php/Arch_Linux_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29#%E5%8E%9F%E5%88%99 target=_blank rel=noopener>Arch Linux 的哲学</a>也非常有意思，其中提到：</p><blockquote><p>Arch 适用于乐于自己动手的用户，他们愿意花时间阅读文档，解决自己的问题。</p></blockquote><p>这完全符合我想折腾 Linux 的想法！当然，我认为 Arch Linux 并不适合 Linux 新手，因为光是第一步的命令行安装系统（Arch Linux 官方没有提供图形化安装界面）恐怕就能劝退不少人了，不过对于接触过 Linux 的人，通过理解 Arch Linux 安装过程中所需要输入的指令的含义，能体会到一种完全掌握自己的系统的快感（<del>误入邪教</del>）。总而言之，对于喜欢折腾的人来说，尝试 Arch Linux 是绝对不会后悔的决定。</p><p>由于 Arch Linux 的激进策略，安装教程很容易过时，我也不打算费力不讨好地写具体的安装步骤了，本文主要分享我在 Arch Linux 下使用的软件，希望能安利更多人使用（提到的不少软件都是跨平台的，即使不使用 Arch Linux 也可使用这些软件）。先在这里说一下我挑选软件的原则：通用性是最重要的，无论在哪个平台上使用都具有近乎一致的体验，为此没有利用单个平台的特性也是可接受的；数据可无障碍导出与导入，尊重用户的选择自由；简单易用且具备可扩展性（例如可安装扩展增强功能），但我也不排斥“一次配置，终身受用”这样需要折腾的软件；当然，开源是最好的。能达到这些要求的软件实属少数派，我在下文仅仅推荐几个，有空再补充。</p><h1 id=安装>安装</h1><p>考虑到 Arch Linux 经常变动，所以最好的安装指南应该是官方的<a class=link href=https://wiki.archlinux.org/index.php/Installation_guide target=_blank rel=noopener> Installation Guide</a>，我另外也参考了两篇博文，一个是萌狼的<a class=link href=https://blog.yoitsu.moe/arch-linux/installing_arch_linux_for_complete_newbies.html target=_blank rel=noopener>给 GNU/Linux 萌新的 Arch Linux 安装指南 rev.B</a>，<del>另一个是<a class=link href=https://www.viseator.com/2017/05/17/arch_install/ target=_blank rel=noopener>以官方Wiki的方式安装ArchLinux</a></del>（由于 2019 年 10 月 Arch Linux 将 base 包组替换为同名的元包，这篇教程已过时）。对于我这样存在多系统的情况，执行了 grub-mkconfig 后最好检查一下/boot/grub/grub.cfg 是否包括了所有的系统。<br>有关于桌面环境的选择，鉴于之前总是看到各位大佬吹 Arch Linux 的 KDE 桌面的美观，而我一直在 Debian 下使用 Gnome，这回便决定尝试 KDE（<del>其实是为了在出问题时更容易找到大佬求救</del>），在安装了 kde-applications 后，开始嫌弃如此多的用不上的应用了（说的就是教育与游戏分类下的那堆东西），所以花了点时间写了一个<a class=link href=https://gist.github.com/vifly/33d1a4f63b0b7319c6db9af9d3bdbdb0 target=_blank rel=noopener>简单的 Python 脚本</a>删除这些软件（<strong>需要 root 权限，使用需谨慎</strong>）。安装完成后重启进入桌面，我不得不表示默认的 KDE 桌面比 Gnome 漂亮多了，相比之下，Gnome 的塑料风格看着实在是让我难受。另外，KDE 全家桶之间的配合也令我十分满意，统一的设计风格，美观的特效，让我忍不住想吹爆 KDE 了。有一个值得一提的细节，在 KDE 下的鼠标单击等于其它桌面环境下的鼠标双击（例如在其它桌面环境下打开文件需要双击），一开始我并不习惯这种设置，觉得不便于选中单个文件，但用多了以后发现这种操作明显更轻松，因为平常使用鼠标时双击的频率比单击要高，而双击肯定比单击累，将双击替换为单击肯定可以减缓疲劳，对于需要选中单个文件的情况，右键也能满足需求，这又成了一个我喜欢 KDE 的原因。<br>除了桌面环境外，首先需要熟悉的还有 Arch Linux 的软件包管理器 Pacman，它的命令行参数与 apt 完全不一样，开始使用时经常需要查看其<a class=link href=https://wiki.archlinux.org/index.php/Pacman target=_blank rel=noopener> Wiki 页面</a>，值得一提的是，得益于<a class=link href=https://wiki.archlinux.org/index.php/Arch_User_Repository target=_blank rel=noopener> AUR(Arch User Repository) </a>的存在以及 Arch Linux 打包的低门槛，Arch Linux 拥有数量庞大的软件包，考虑到可能会使用 AUR 里的软件包，所以我安装了<a class=link href=https://github.com/Jguer/yay target=_blank rel=noopener> Yay </a>这个<a class=link href=https://wiki.archlinux.org/index.php/AUR_helpers target=_blank rel=noopener> AUR 助手</a>（Yay 完全兼容 Pacman 的命令行参数）帮我节省输入 makepkg 等指令的步骤，下文涉及到安装软件的指令既有可能使用 Pacman，也有可能使用 Yay。</p><h1 id=中国大陆用户所需的东西>中国大陆用户所需的东西</h1><h2 id=中文设置>中文设置</h2><p>我直接根据<a class=link href=https://szclsya.me/zh-cn/posts/fonts/linux-config-guide/ target=_blank rel=noopener> Linux 下的字体调校指南</a>一文进行调教，在这里我想说一下该博文中提到的“archlinuxcn required”，这意味着需要<a class=link href=https://www.archlinuxcn.org/archlinux-cn-repo-and-mirror/ target=_blank rel=noopener>添加 archlinuxcn 源</a>，上面介绍已经提到了 Arch Linux 中文社区，而这个社区维护着一个非官方软件仓库，被称为 Arch Linux 中文社区仓库（archlinuxcn 源），该仓库包括了很多中文用户会用到的已编译好的软件包，而 AUR 提供的是 PKGBUILD 打包脚本（这就是为什么你可通过 AUR 安装不少明确禁止二次分发的闭源软件的原因，因为 AUR 分发的是打包脚本而不是软件本体），需要下载后进行编译打包安装，如果你懒得自己打包的话，建议添加 archlinuxcn 源。在配置完成中文字体的显示后，在 KDE 的系统设置中将语言设置为中文就行了。另外，强烈建议阅读官方的<a class=link href=https://wiki.archlinux.org/index.php/Arch_Linux_%E4%B8%AD%E6%96%87%E5%8C%96 target=_blank rel=noopener> Arch Linux 中文化</a>页面。</p><h2 id=翻墙>翻墙</h2><p>折腾 Linux 总是会遇到各种问题，这种时候便需要 Google 了，让我们先解决使用无法使用 Google 的问题（此处使用 V2Ray 作为例子，在官方软件仓库有 V2Ray 的软件包真是太好了）：</p><pre><code>yay -S v2ray
</code></pre><p>安装后修改/etc/v2ray/config.json 的配置，然后：</p><pre><code>sudo systemctl enable v2ray.service
sudo systemctl start v2ray.service
</code></pre><p>如果想让桌面应用走代理，可以在 KDE 的系统设置中点击“网络”中的设置，然后点击“代理”，选中“使用系统代理服务器配置”，填入对应的代理信息，示例如下：</p><p><img src=/Try_Arch_Linux/set_kde_proxy.png width=1074 height=736 loading=lazy alt="KDE 设置系统代理" class=gallery-image data-flex-grow=145 data-flex-basis=350px></p><p>另外，V2Ray 支持 ShadowSocks 协议，可根据<a class=link href=https://www.v2ray.com/chapter_02/protocols/shadowsocks.html target=_blank rel=noopener> V2Ray 官方文档</a>写出配置文件，也可使用<a class=link href=https://www.veekxt.com/utils/v2ray_gen target=_blank rel=noopener>在线工具</a>生成；如果你使用 SSR 翻墙，AUR 中有<a class=link href=https://aur.archlinux.org/packages/electron-ssr/ target=_blank rel=noopener> electron-ssr</a>，也有<a class=link href=https://aur.archlinux.org/packages/shadowsocksr/ target=_blank rel=noopener> shadowsocksr</a>，但需要注意的是 electron-ssr 无法在 KDE 下自动设置代理（它使用了 gsetting 设置系统代理，不支持 KDE）。总之，安装好翻墙软件后终于能在电脑上使用 Google 查问题了。</p><h1 id=终端模拟器与-shell>终端模拟器与 Shell</h1><p>既然在 Linux 下，那么肯定免不了与终端打交道，既然如此，我们就需要一个美观、实用的终端（模拟器）。要说美观的话，KDE 自带的 Konsole 已经足够漂亮了，透明背景这一点让一直使用 Gnome Terminal 的我感到非常舒服，只需要稍微调整一下，就可以做到<a class=link href=https://kirikira.moe/post/28/#3 target=_blank rel=noopener> kiri 大佬这样的效果</a>，让自己一整天都保持心情愉悦。不过在实用性方面我开始时遇到了一点问题，Konsole 使用的 Shell 是 Bash，而 Arch Linux 本身的 Bash 并没有自动补全配置，想要自动补全的话需要安装 bash-completion：</p><pre><code>sudo pacman -S bash-completion
</code></pre><p>想要更高级的 Shell 体验的话（不知道终端模拟器与 Shell 有什么区别？请看<a class=link href=https://www.ihewro.com/archives/933/ target=_blank rel=noopener>这</a>），也可以安装 zsh 加 oh-my-zsh 这样一整套的懒人包（或者自己配置 zsh？），只不过这里有一个小坑，在 AUR 中的 oh-my-zsh-git 并不会在 home 目录下生成 .zshrc，查找后发现在 /usr/share/oh-my-zsh 下有 zshrc 文件，我直接复制到 home 目录了，这里贴出安装懒人包的操作命令（将 username 改为你的用户名）：</p><pre><code>yay -S zsh
sudo chsh -s /bin/zsh username
yay -S oh-my-zsh-git
cp /usr/share/oh-my-zsh/zshrc ~/.zshrc
</code></pre><p>更新：博主已经放弃启动速度慢的 oh-my-zsh，转向 Zinit 这个神器的怀抱了，另外，2021 年 11 月 Zinit 的原作者删除代码库，目前由 zdharma-continuum 组织接手进行维护，请注意 URL 的变化。Zinit 不仅轻松可以使用 oh-my-zsh 的各种插件，还拥有 Turbo mode 这个大幅减少插件加载时间的大杀器。如果你心动的话，请看<a class=link href=https://www.aloxaf.com/2019/11/zplugin_tutorial/ target=_blank rel=noopener>加速你的 zsh —— 最强 zsh 插件管理器 zplugin/zinit 教程</a>一文。仅仅是照抄文末的示例配置，我也在保留 oh-my-zsh 体验的前提下感受到了起飞的加载速度，所以请无视上面的 oh-my-zsh，使用以下指令体验顺滑如丝的 Zinit（这里用了配置难度低的 proxychains-ng 翻墙下载 GitHub 片段，也可使用其它手段）：</p><pre><code>yay -S zsh proxychains-ng
git clone https://github.com/zdharma-continuum/zinit.git ~/.zinit/bin
# 在 .zshrc 中添加 source ~/.zinit/bin/zinit.zsh 以及其它配置，可参考我的配置
nano .zshrc
# 配置 proxychains-ng，在最后一行添加类似 socks5 127.0.0.1 1080 的内容即可，自行谷歌了解配置
sudo nano /etc/proxychains.conf
# 启动 zsh，由于 .zshrc 已加载 Zinit，所以 zsh 首次启动时会自行下载 GitHub 上的片段
proxychains zsh
# 下载片段完成后退出执行这条指令更改默认 Shell，重启后见效果
sudo chsh -s /bin/zsh username
</code></pre><p>你可以在<a class=link href=https://github.com/vifly/dotfiles/blob/master/zsh/.zshrc target=_blank rel=noopener> GitHub </a>查看我的 zsh 配置，不过请记得根据自己的需求进行修改。</p><h1 id=输入法>输入法</h1><p>前面搞定了中文字体的显示，但是还没解决输入中文这个问题，在这里我选择了与使用 Debian 时同样的方案：基于 Fcitx 框架的 Rime 输入法。先贴一波安装指令（其它基于 Fcitx 框架的输入法请看<a class=link href=https://wiki.archlinux.org/index.php/Fcitx target=_blank rel=noopener> Wiki 页面</a>）：</p><pre><code>sudo pacman -S fcitx fcitx-im fcitx-rime
</code></pre><p>为了确保能输入中文，修改一下/etc/profile，在开头加上：</p><pre><code>export XMODIFIERS=&quot;@im=fcitx&quot;
export GTK_IM_MODULE=&quot;fcitx&quot;
export QT_IM_MODULE=&quot;fcitx&quot;
</code></pre><p>另外，需要更改一下输入法配置，操作步骤是右键点击托盘中的输入法图标，选择“配置”，修改后的配置如下图所示（按 Shift 键可切换中英文）：</p><p><img src=/Try_Arch_Linux/set_fcitx_1.png width=683 height=820 loading=lazy alt=输入法配置图1 class=gallery-image data-flex-grow=83 data-flex-basis=199px></p><p><img src=/Try_Arch_Linux/set_fcitx_2.png width=681 height=816 loading=lazy alt=输入法配置图2 class=gallery-image data-flex-grow=83 data-flex-basis=200px></p><p>最后，将我已经在 Debian 上调校好的 Rime 输入法配置文件拷贝过来（调校 Rime 的教程太多了，这里懒得贴了～），就能畅快地输入中文了。</p><h1 id=多媒体>多媒体</h1><p>这里选择在 Debian 上非常熟悉的 MPV 和 Rhythmbox 作为视频和音频播放器，之所以选择 MPV 是因为我已经有了一套<a class=link href=https://github.com/vifly/dotfiles/blob/master/mpv/.config/mpv/mpv.conf target=_blank rel=noopener>配置方案</a>，没必要选择其它播放器了，如果你还没使用过 MPV，那么<a class=link href=https://vcb-s.com/archives/7594/comment-page-1 target=_blank rel=noopener>这里</a>有一篇相当不错的配置教程。而 Rhythmbox 支持不少插件，例如，在 KDE 桌面下，Rhythmbox 无法在关闭窗口时隐藏到托盘继续播放，可以通过安装 rhythmbox-tray-icon 插件解决：</p><pre><code>yay -S rhythmbox-tray-icon
</code></pre><p>安装好插件后记得点击 Rhythmbox 右上角的设置按钮->“插件”，在弹出的窗口中勾选刚安装的插件以激活插件效果，如下图：</p><p><img src=/Try_Arch_Linux/rhythmbox_plugin.png width=778 height=598 loading=lazy alt="Rhythmbox 插件" class=gallery-image data-flex-grow=130 data-flex-basis=312px></p><p>除此以外，我还推荐 rhythmbox-equalizer 插件，安装后可调整 EQ。</p><h1 id=生产力>生产力</h1><p>属于生产力的工具有很多，我在这里只选择分享几个比较重要的工具。如果平常使用的生产力工具没有 Linux 客户端，或许可用网页版代替客户端（连网页版都没有的话，折腾下 wine 或放弃在 Linux 下使用吧）。</p><h2 id=浏览器>浏览器</h2><p>都说程序猿是面向 Google 编程的，既然如此，怎能缺少一个趁手的浏览器用于查资料呢。直接安装我在 Debian 上一直在使用的 Firefox 与 Chromium（Google Chrome 的开源部分）：</p><pre><code>yay -S firefox-i18n-zh-cn chromium
</code></pre><p>这两个浏览器都有云同步机制，可直接将在其它平台上的浏览器资料同步过来，不想使用云同步的话，也可以手动复制用户资料以进行数据备份和迁移，Chromium 的用户资料在~/.config/chromium/Default/，浏览器扩展及其数据存放在这个目录下带有“Extensions”的子目录中；Firefox 有些不同，它轻松支持多个用户配置，你可以打开<a class=link href=about:profiles> about:profiles </a>页面查看用户配置文件路径，显示“正在使用此配置文件，因而不能删除。”的就是当前的用户配置文件。<br>对于我来说，选择这两个浏览器的一个重要原因就是可以安装扩展改善各种功能，例如禁用 JS 的 NoScript/ScriptSafe，拦截广告的 uBlock，为网页注入实用 JS 的 Greasemonkey，对于 Firefox 用户，还可参考编程随想的<a class=link href=https://program-think.blogspot.com/2016/10/custom-firefox-theme-without-extension.html target=_blank rel=noopener>无需任何插件或扩展，定制 Firefox 外观</a>和<a class=link href=https://program-think.blogspot.com/2019/07/Customize-Firefox.html target=_blank rel=noopener>扫盲 Firefox 定制——从“user.js”到“omni.ja”</a>进行更高级的定制。另外，从安全补丁的及时性这一角度来说，我也更推荐这两个浏览器，而不是基于这两者的衍生版。</p><h2 id=代码编辑器与ide>代码编辑器与IDE</h2><p>要问对程序猿而言最重要的生产力工具是什么，回答肯定是代码编辑器或 IDE。目前在 Linux 下我喜欢的编辑器就是 Visual Studio Code（简称 VS Code）了，虽然这是微软出品的（别跟 VS 搞混了，两者之间的差别非常大），不过用了以后还是要说一句“真香！”。它可以胜任多种需求，常见的 Python、C/C++等完全不在话下，也可以用作 Markdown 写作，像本文就是在 VS Code 下完成的，当然，值得一提的还有美观的界面，开箱即用的设置，这都令它在短时间内打动了我，再配合各种扩展，带来的是十分舒适的体验。对于 VS Code，我目前推荐 TabNine 以及 Markdown Preview Enhanced 这两个扩展，前者带来优秀的主流编程语言自动补全，后者带来更高级的 Markdown 预览体验（例如查看 LaTex）。</p><p><img src=/Try_Arch_Linux/vs_code.png width=1920 height=1043 loading=lazy alt="VS Code 图" class=gallery-image data-flex-grow=184 data-flex-basis=441px></p><p>如果需要一个 IDE 的话，我推荐由 JetBrains 出品的 IDE，应该有不少人用过它家的 PyCharm 了，除此以外，Clion(C/C++)与 IntelliJ IDEA(Java)也是非常优秀的 IDE，至少在目前来说，Clion 对 Cmake 项目的支持可比 VS 好多了。另外，配合 Github 的学生认证可以白嫖 JetBrains 的产品，在此强烈推荐学生党尝试一下 Clion。</p><h2 id=笔记>笔记</h2><p>作为一个程序猿，总是会有记录笔记的需求，我目前有相当一部分的笔记资料储存在 EverNote 这个云笔记上，而它并没有 Linux 官方客户端，不过，得益于它的开放 API，早就有开发者做了一个在 Linux 下的客户端：NixNote（原名 Nevernote），Arch Linux 官方仓库有这个软件包：</p><pre><code>sudo pacman -S nixnote2 
</code></pre><p><del>只不过我遇到了在已设置应用程序使用语言为中文的情况下，菜单依然为英文的问题，Google 后找到一篇<a class=link href=https://blue-leaf81.net/archives/nixnote-translate-jp/ target=_blank rel=noopener>让 NixNote 显示日语的教程</a>，受到这篇教程的启发，我查看了一下/usr/share/nixnote2/translations/目录，发现其中只有 nixnote2_cs_CZ.qm 文件，看来想要让菜单显示中文，就必须在这个目录下添加中文翻译。具体来说，先前往 GitHub 仓库下载<a class=link href=https://github.com/baumgarr/nixnote2/blob/master/translations/nixnote2_zh_CN.ts target=_blank rel=noopener>中文翻译源文件</a>，接着使用 Qt Linguist 打开下载回来的文件，然后点击左上角“File”->&ldquo;Release As"导出到/usr/share/nixnote2/translations/nixnote2_zh_CN.qm。重启 NixNote 便可以看到中文菜单了</del>。更新：2020年5月的更新已带上中文翻译，无需再按上面折腾。<br>当然，EverNote 在 Linux 下还有<a class=link href=https://itsfoss.com/evernote-on-linux/ target=_blank rel=noopener>几个非官方客户端</a>，我选择 NixNote 的原因在于它是使用 C++ QT 开发的，而不是类似于<a class=link href=https://github.com/klauscfhq/tusk target=_blank rel=noopener> Tusk </a>等使用前端技术开发的套壳 Web 应用，但对于 EverNote 的高级用户，我建议使用 EverNote 的网页版，而不是使用 NixNote，因为网页版的编辑功能比 NixNote 更优秀。</p><h2 id=虚拟机>虚拟机</h2><p>我有时候会有使用虚拟机运行 Windows 或其它 Linux 发行版的需求，这个时候就需要用到虚拟机了，VirtualBox 是一个操作简单且免费开源的虚拟机软件，根据<a class=link href=https://wiki.archlinux.org/index.php/VirtualBox target=_blank rel=noopener> Wiki 页面</a>进行安装（安装时会要求选择内核模块，没有更换默认内核的话，选择 virtualbox-host-modules-arch，不然选择 virtualbox-host-dkms）：</p><pre><code>yay -S virtualbox virtualbox-ext-oracle virtualbox-guest-iso
</code></pre><p>假如你没有用过 VirtualBox，那么这里提醒一句，拖放文件和共享粘贴板等功能需要在运行中的虚拟机窗口上方点击“设备”->“安装增强功能”才可使用。</p><h1 id=后记>后记</h1><p>得益于我对软件的通用性的要求，可以说是无痛从 Debian 迁移到了 Arch Linux，不少软件只需简单地复制粘贴配置文件即可（前提是已经有配置文件了），而且 Arch Linux 的系统安装过程也并不像我之前想象的那样复杂。折腾完这堆东西后最大的感触就是之前折腾积累的东西（如相关知识与配置）并没有浪费，若是没有相关的积累，面对安装 Arch Linux 以及安装完成后做什么这些问题恐怕会一头雾水，浪费不少时间，从节约时间的角度来说，编程随想所说的<a class=link href=https://program-think.blogspot.com/2013/10/personal-it-infrastructure.html target=_blank rel=noopener>重视个人 IT 基础设施的改善</a>是很有道理的。总之，安装好 Arch Linux 的我就像是一个刚得到新玩具的小孩子，正迫不及待地想要探索这个新玩具的有趣之处，更多有趣的软件留待日后补充好了。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E6%8A%98%E8%85%BE/>折腾</a>
<a href=/tags/Linux/>Linux</a>
<a href=/tags/%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%88%A9/>软件安利</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>Related contents</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/Use_Vercel_and_OneDrive_to_setup_your_repo/><div class=article-image><img src=/Use_Vercel_and_OneDrive_to_setup_your_repo/show.4727fcbd0f8b4125beaaa4d84d498fb5_hu3a92ba18b985a44b13d2086fb5d2cd73_887024_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post 使用 Vercel 与 OneDrive 自建软件源" data-hash="md5-Ryf8vQ+LQSW+qqTYTUmPtQ=="></div><div class=article-details><h2 class=article-title>使用 Vercel 与 OneDrive 自建软件源</h2></div></a></article><article class=has-image><a href=/Use_GitHubActions_to_build_AUR/><div class=article-image><img src=/Use_GitHubActions_to_build_AUR/show.dade81dbe0ba1ba523070d5a28de0ce8_hu3e4196b515918c37e47fce1bd97e68c0_760288_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy alt="Featured image of post GitHub Actions 打造 AUR 打包下载一条龙服务" data-hash="md5-2t6B2+C6G6UjBw1aKN4M6A=="></div><div class=article-details><h2 class=article-title>GitHub Actions 打造 AUR 打包下载一条龙服务</h2></div></a></article><article class=has-image><a href=/KDE_to_Windows10/><div class=article-image><img src=/KDE_to_Windows10/show.a7fb8d2542e84dd78df8e20e8d6bb395_hua1e96627c79bb7cd39936a6d63fa6003_596890_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post 将 KDE 改造为 Windows 10" data-hash="md5-p/uNJULoTdeN+OIOjWuzlQ=="></div><div class=article-details><h2 class=article-title>将 KDE 改造为 Windows 10</h2></div></a></article><article class=has-image><a href=/Install_Matomo_on_Debian/><div class=article-image><img src=/Install_Matomo_on_Debian/show.12d541662ae371ff8aa4bc189a019143_hu237d0d0f8f01f491cebef0f12a3b29f0_514050_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post Debian 安装 Matomo (Piwik) 开源统计分析服务" data-hash="md5-EtVBZirjcf+KpLwYmgGRQw=="></div><div class=article-details><h2 class=article-title>Debian 安装 Matomo (Piwik) 开源统计分析服务</h2></div></a></article><article><a href=/Use_GithubPages_and_Hexo_to_build_blog_advanced/><div class=article-details><h2 class=article-title>使用 GitHub Pages 和 Hexo 搭建个人博客(进阶篇)</h2></div></a></article></div></div></aside><div id=isso-comment><script data-isso=https://comments.viflythink.com/isso/ data-isso-css=true data-isso-lang=zh_CN data-isso-reply-to-self=true data-isso-require-author=true data-isso-require-email=false data-isso-max-comments-top=10 data-isso-max-comments-nested=5 data-isso-reveal-on-click=5 data-isso-avatar=true data-isso-vote=true data-isso-vote-levels data-isso-feed=false src=https://comments.viflythink.com/isso/js/embed.min.js></script><section id=isso-thread></section></div><style>#isso-comment{background-color:#eee;padding:2pc}</style><footer class=site-footer><section class=copyright>&copy;
2019 -
2023 Vifly 的博客</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.11.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://viflythink.com/js/photoswipe.min.js crossorigin=anonymous defer></script><script src=https://viflythink.com/js/photoswipe-ui-default.min.js crossorigin=anonymous defer></script><link rel=stylesheet href=https://viflythink.com/css/default-skin.css crossorigin=anonymous><link rel=stylesheet href=https://viflythink.com/css/photoswipe.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#安装>安装</a></li><li><a href=#中国大陆用户所需的东西>中国大陆用户所需的东西</a><ol><li><a href=#中文设置>中文设置</a></li><li><a href=#翻墙>翻墙</a></li></ol></li><li><a href=#终端模拟器与-shell>终端模拟器与 Shell</a></li><li><a href=#输入法>输入法</a></li><li><a href=#多媒体>多媒体</a></li><li><a href=#生产力>生产力</a><ol><li><a href=#浏览器>浏览器</a></li><li><a href=#代码编辑器与ide>代码编辑器与IDE</a></li><li><a href=#笔记>笔记</a></li><li><a href=#虚拟机>虚拟机</a></li></ol></li><li><a href=#后记>后记</a></li></ol></nav></div></section></aside></div><script src=https://viflythink.com/js/vibrant.min.js crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>